{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.array.fill.js","webpack:///./src/pages/rain.tsx"],"names":["toObject","toAbsoluteIndex","toLength","module","exports","value","O","this","length","argumentsLength","arguments","index","undefined","end","endPos","hasOwn","hasOwnProperty","classNames","classes","i","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","$","fill","addToUnscopables","target","proto","useStyles","makeStyles","fullScreen","width","height","background","backgroundColor","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","position","content","display","top","left","zIndex","animation","canvas","index5","index10","index100","random","min","max","Math","withLayout","useState","rainTrough","setRainTrough","rain","setRain","setLightning","lightTimeCurrent","lightTimeTotal","lightningConfig","setLightningConfig","ref1","useRef","ref2","ref3","frame","ctx1","current","getContext","ctx2","ctx3","window","innerWidth","innerHeight","size","setSize","resetSize","useCallback","useEffect","addEventListener","removeEventListener","tempRainTrough","x","y","floor","opacity","xs","ys","drawRainTrough","ctx","rt","beginPath","grd","createLinearGradient","addColorStop","fillStyle","fillRect","animateRainTrough","clearRect","tempRain","l","drawRain","r","moveTo","lineTo","strokeStyle","lineWidth","lineCap","stroke","animateRain","tempLightning","createCount","xRange","yRange","path","pathLimit","drawLightning","globalCompositeOperation","map","light","concat","pc","lineJoin","filter","loop","c","requestAnimationFrame","cancelAnimationFrame","className","clsx","ref","disableHeader"],"mappings":"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","file":"component---src-pages-rain-tsx-ebb646357ea28807dda3.js","sourcesContent":["'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","import { makeStyles } from '@material-ui/core'\nimport clsx from 'classnames'\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\n\nimport { withLayout } from '../components/Layout/withLayout'\n\nconst useStyles = makeStyles({\n\n  fullScreen: {\n    width: '100vw',\n    height: '100vh',\n  },\n\n  background: {\n    backgroundColor: '#222',\n    backgroundImage: 'url(\"https://drive.google.com/uc?export=view&id=0BzFF7FmbJUo5X0NEUXFVd0NBcWc\")',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    position: 'relative',\n\n    '&:after': {\n      content: '\"\"',\n      width: '100%',\n      height: '100%',\n      display: 'block',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.1)',\n      zIndex: 1,\n      animation: '$thunder-bg 6s infinite',\n    },\n  },\n\n  canvas: {\n    width: '100%',\n    height: '100%',\n    display: 'block',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n  },\n\n  index5: {\n    zIndex: 5,\n  },\n\n  index10: {\n    zIndex: 10,\n  },\n\n  index100: {\n    zIndex: 100,\n  },\n\n  '@keyframes thunder-bg': {\n    '0%': {\n      backgroundColor: 'rgba(34, 34, 34, 0.9)',\n    },\n    '9%': {\n      backgroundColor: 'rgba(34, 34, 34, 0.9)',\n    },\n    '10%': {\n      backgroundColor: 'rgba(59, 59, 59, 0.3)',\n    },\n    '10.5%': {\n      backgroundColor: 'rgba(34, 34, 34, 0.9)',\n    },\n    '80%': {\n      backgroundColor: 'rgba(34, 34, 34, 0.9)',\n    },\n    '82%': {\n      backgroundColor: 'rgba(59, 59, 59, 0.3)',\n    },\n    '83%': {\n      backgroundColor: 'rgba(34, 34, 34, 0.9)',\n    },\n    '83.5%': {\n      backgroundColor: 'rgba(59, 59, 59, 0.3)',\n    },\n    '100%': {\n      backgroundColor: 'rgba(34, 34, 34, 0.9)',\n    },\n  },\n})\n\nconst rainthroughnum = 30\nconst speedRainTrough = 25\n\nconst rainnum = 50\n\nconst random = (min: number, max: number) => {\n  return Math.random() * (max - min + 1) + min\n}\n\ntype RainTrough = { x: number, y: number, opacity: number, length: number, xs: number, ys: number }[]\n\ntype Rain = { x: number, y: number, l: number, xs: number, ys: number }[]\n\ntype Lightning = {\n  x: number,\n  y: number,\n  xRange: number,\n  yRange: number,\n  path: {\n    x: number,\n    y: number,\n  }[],\n  pathLimit: number,\n}[]\n\nconst Rain = () => {\n  const [rainTrough, setRainTrough] = useState<RainTrough>([])\n  const [rain, setRain] = useState<Rain>([])\n  const [, setLightning] = useState<Lightning>([])\n  const [lightningConfig, setLightningConfig] = useState({ lightTimeCurrent: 0, lightTimeTotal: 0 })\n\n  const ref1 = useRef<HTMLCanvasElement>(null)\n  const ref2 = useRef<HTMLCanvasElement>(null)\n  const ref3 = useRef<HTMLCanvasElement>(null)\n  const frame = useRef<number>(0)\n\n  const ctx1 = ref1.current && ref1.current.getContext('2d')\n  const ctx2 = ref2.current && ref2.current.getContext('2d')\n  const ctx3 = ref3.current && ref3.current.getContext('2d')\n\n  const classes = useStyles()\n\n  const [size, setSize] = useState({ width: window.innerWidth, height: window.innerHeight })\n\n  const resetSize = useCallback(() => {\n    if (ref1.current) {\n      ref1.current.width = window.innerWidth\n      ref1.current.height = window.innerHeight\n    }\n    if (ref2.current) {\n      ref2.current.width = window.innerWidth\n      ref2.current.height = window.innerHeight\n    }\n    if (ref3.current) {\n      ref3.current.width = window.innerWidth\n      ref3.current.height = window.innerHeight\n    }\n    setSize({ width: window.innerWidth, height: window.innerHeight })\n  }, [])\n\n  useEffect(() => {\n    resetSize()\n    window.addEventListener('resize', resetSize)\n    return () => {\n      window.removeEventListener('resize', resetSize)\n    }\n  }, [resetSize])\n\n  useEffect(() => {\n    const tempRainTrough: RainTrough = []\n    for (let i = 0; i < rainthroughnum; i++) {\n      tempRainTrough[i] = {\n        x: random(0, size.width),\n        y: random(0, size.height),\n        length: Math.floor(random(1, 830)),\n        opacity: Math.random() * 0.2,\n        xs: random(-2, 2),\n        ys: random(10, 20),\n      }\n    }\n    setRainTrough(tempRainTrough)\n  }, [size])\n\n  const drawRainTrough = useCallback((ctx: CanvasRenderingContext2D, rt: RainTrough, i: number) => {\n    ctx.beginPath()\n    const grd = ctx.createLinearGradient(0, rt[i].y, 0, rt[i].y + rt[i].length)\n    grd.addColorStop(0, 'rgba(255,255,255,0)')\n    grd.addColorStop(1, 'rgba(255,255,255,' + rt[i].opacity + ')')\n\n    ctx.fillStyle = grd\n    ctx.fillRect(rt[i].x, rt[i].y, 1, rt[i].length)\n    ctx.fill()\n  }, [])\n\n  const animateRainTrough = useCallback(() => {\n    if (!ctx1) { return }\n    ctx1.clearRect(0, 0, size.width, size.height)\n\n    for (var i = 0; i < rainthroughnum; i++) {\n      if (rainTrough[i].y >= size.height) {\n        rainTrough[i].y = size.height - rainTrough[i].y - rainTrough[i].length * 5\n      } else {\n        rainTrough[i].y += speedRainTrough\n      }\n      drawRainTrough(ctx1, rainTrough, i)\n    }\n  }, [ctx1, size, drawRainTrough, rainTrough])\n\n  useEffect(() => {\n    const tempRain: Rain = []\n    for (var i = 0; i < rainnum; i++) {\n      tempRain[i] = {\n        x: Math.random() * size.width,\n        y: Math.random() * size.height,\n        l: Math.random() * 1,\n        xs: -4 + Math.random() * 4 + 2,\n        ys: Math.random() * 10 + 10,\n      }\n    }\n    setRain(tempRain)\n  }, [size])\n\n  const drawRain = useCallback((ctx: CanvasRenderingContext2D, r: Rain, i: number) => {\n    ctx.beginPath()\n    ctx.moveTo(r[i].x, r[i].y)\n    ctx.lineTo(r[i].x + r[i].l * r[i].xs, r[i].y + r[i].l * r[i].ys)\n    ctx.strokeStyle = 'rgba(174,194,224,0.5)'\n    ctx.lineWidth = 1\n    ctx.lineCap = 'round'\n    ctx.stroke()\n  }, [])\n\n  const animateRain = useCallback(() => {\n    if (!ctx2) { return }\n    ctx2.clearRect(0, 0, size.width, size.height)\n\n    for (var i = 0; i < rainnum; i++) {\n      rain[i].x += rain[i].xs\n      rain[i].y += rain[i].ys\n      if (rain[i].x > size.width || rain[i].y > size.height) {\n        rain[i].x = Math.random() * size.width\n        rain[i].y = -20\n      }\n      drawRain(ctx2, rain, i)\n    }\n  }, [ctx2, drawRain, size, rain])\n\n  useEffect(() => {\n    if (lightningConfig.lightTimeCurrent < lightningConfig.lightTimeTotal) { return }\n    const x = random(100, size.width - 100)\n    const y = random(0, size.height / 4)\n\n    const tempLightning: Lightning = []\n    const createCount = random(1, 3)\n    for (let i = 0; i < createCount; i++) {\n      tempLightning.push({\n        x: x,\n        y: y,\n        xRange: random(5, 30),\n        yRange: random(10, 25),\n        path: [{\n          x: x,\n          y: y,\n        }],\n        pathLimit: random(40, 55),\n      })\n    }\n    setLightning(tempLightning)\n    setLightningConfig({ lightTimeCurrent: 0, lightTimeTotal: 200 /** rand(100, 200) */ })\n  }, [lightningConfig, size])\n\n  const drawLightning = useCallback(() => {\n    if (!ctx3) { return }\n\n    ctx3.globalCompositeOperation = 'destination-out'\n    ctx3.fillStyle = 'rgba(0,0,0,' + random(1, 30) / 100 + ')'\n    ctx3.fillRect(0, 0, size.width, size.height)\n    ctx3.globalCompositeOperation = 'source-over'\n\n    setLightning((l) => l.map((light) => {\n      const path = light.path.concat({\n        x: light.path[light.path.length - 1].x + (random(0, light.xRange) - (light.xRange / 2)),\n        y: light.path[light.path.length - 1].y + (random(0, light.yRange)),\n      })\n\n      ctx3.strokeStyle = 'rgba(255, 255, 255, .1)'\n      ctx3.lineWidth = 2\n      if (random(0, 15) === 0) {\n        ctx3.lineWidth = 4\n      }\n      if (random(0, 30) === 0) {\n        ctx3.lineWidth = 6\n      }\n\n      ctx3.beginPath()\n      ctx3.moveTo(light.x, light.y)\n      for (var pc = 0; pc < path.length; pc++) {\n        ctx3.lineTo(path[pc].x, path[pc].y)\n      }\n      if (Math.floor(random(0, 30)) === 1) { //to fos apo piso\n        ctx3.fillStyle = 'rgba(255, 255, 255, ' + random(1, 3) / 100 + ')'\n        ctx3.fillRect(0, 0, size.width, size.height)\n      }\n      ctx3.lineJoin = 'miter'\n      ctx3.stroke()\n\n      return { ...light, path }\n    }).filter((light) => light.path.length < light.pathLimit ))\n  }, [ctx3, size])\n\n  const loop = useCallback(() => {\n    setLightningConfig((c) => ({ ...c, lightTimeCurrent: c.lightTimeCurrent + 1 }))\n    animateRainTrough()\n    animateRain()\n    drawLightning()\n    frame.current = window.requestAnimationFrame(loop)\n  }, [animateRainTrough, animateRain, drawLightning])\n\n  useEffect(() => {\n    loop()\n    return () => {\n      window.cancelAnimationFrame(frame.current)\n    }\n  }, [loop])\n\n  return (\n    <div className={clsx(classes.background, classes.fullScreen)}>\n      <canvas ref={ref1} className={clsx(classes.canvas, classes.index100)} />\n      <canvas ref={ref2} className={clsx(classes.canvas, classes.index10)} />\n      <canvas ref={ref3} className={clsx(classes.canvas, classes.index5)} />\n    </div>\n  )\n}\n\nexport default withLayout(Rain, {\n  disableHeader: true,\n})\n"],"sourceRoot":""}